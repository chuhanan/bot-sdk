{"version":3,"file":"bot-sdk.min.js","sources":["../node_modules/babel-runtime/helpers/classCallCheck.js","../src/sdk.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","window.CBOT = null;\r\nconst botAreaId = 'BOT_AREA';\r\nconst showStyle =\r\n  'position:fixed;transition:all .5s ease;opacity:1;visibility:visible;z-index:100;width:100%;height:100%;right:0;bottom:0';\r\nconst hideStyle =\r\n  'position:fixed;transition:all .5s ease;opacity:0;width:24px;height:24px;z-index:-1;visibility:hidden;right:30px;bottom:30px;';\r\n\r\nlet __instance = null;\r\nexport default class CandidateBot {\r\n  constructor(options = {}) {\r\n    if (__instance) {\r\n      return __instance;\r\n    }\r\n    __instance = this;\r\n    this._options = options\r\n    this.init(options);\r\n  }\r\n\r\n  init = options => {\r\n    //创建聊天区域\r\n    // createBotArea();\r\n    \r\n    //创建图标\r\n    if (options.showTrigger) {\r\n      this.createBotIcon(options);\r\n    }else {\r\n      this.createIframe()\r\n    }\r\n  };\r\n\r\n  show = () => {\r\n    let botDom = document.getElementById(botAreaId);\r\n    botDom.setAttribute('style', showStyle);\r\n  };\r\n\r\n  hide = () => {\r\n    let botDom = document.getElementById(botAreaId);\r\n    botDom.setAttribute('style', hideStyle);\r\n  };\r\n\r\n  createIframe = () => {\r\n    let domFrame = document.createElement(\"iframe\");\r\n    domFrame.setAttribute('id', botAreaId);\r\n    domFrame.style=\"border: none;\"\r\n    ///index.html?bot_type=${this._options.bot_type}&url=${this._options.url}&position_id=${this.position_id}\r\n    domFrame.src = `http://192.168.6.216:3333`\r\n    document.body.appendChild(domFrame);\r\n    this.show()\r\n  }\r\n\r\n  createBotIcon = (options) => {\r\n    let domHead = document.querySelector('head');\r\n    let domStyle = document.createElement('style');\r\n    domStyle.innerHTML = `\r\n      #BOT_TRIGGER{\r\n        background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTQgKDc2NDgwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4NCiAgICA8dGl0bGU+Ym90X2ltZzwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjAlIiB4Mj0iMCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+DQogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMjI5M0ZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+DQogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMEY1QUZGIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4NCiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IumhtemdojEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMi3mgqzmta5fSG92ZXLlpI3liLYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTQ4LjAwMDAwMCwgLTM2Ni4wMDAwMDApIj4NCiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QtMuWkjeWItiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEzMi4wMDAwMDAsIDI4Mi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iYm90X2ltZyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYuMDAwMDAwLCA4NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGc+DQogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIsMjQgQzUuMzcyNTgzLDI0IDAsMTguNjI3NDE3IDAsMTIgQzAsNS4zNzI1ODMgNS4zNzI1ODMsMy41NTI3MTM2OGUtMTUgMTIsMy41NTI3MTM2OGUtMTUgTDIwLjcyNzI3MjcsMy41NTI3MTM2OGUtMTUgQzIyLjUzNDc1MDEsMy41NTI3MTM2OGUtMTUgMjQsMS40NjUyNDk5MSAyNCwzLjI3MjcyNzI3IEwyNCwxMiBDMjQsMTguNjI3NDE3IDE4LjYyNzQxNywyNCAxMiwyNCBaIiBpZD0i6Lev5b6EIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMTIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0xMi4wMDAwMDApICI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNjM2MzYzNjQsNy42MzYzNjM2NCBMMTYuMzYzNjM2NCw3LjYzNjM2MzY0IEMxOC43NzM2MDYyLDcuNjM2MzYzNjQgMjAuNzI3MjcyNyw5LjU5MDAzMDE4IDIwLjcyNzI3MjcsMTIgQzIwLjcyNzI3MjcsMTQuNDA5OTY5OCAxOC43NzM2MDYyLDE2LjM2MzYzNjQgMTYuMzYzNjM2NCwxNi4zNjM2MzY0IEw3LjYzNjM2MzY0LDE2LjM2MzYzNjQgQzUuMjI2MzkzODIsMTYuMzYzNjM2NCAzLjI3MjcyNzI3LDE0LjQwOTk2OTggMy4yNzI3MjcyNywxMiBDMy4yNzI3MjcyNyw5LjU5MDAzMDE4IDUuMjI2MzkzODIsNy42MzYzNjM2NCA3LjYzNjM2MzY0LDcuNjM2MzYzNjQgWiIgaWQ9IuefqeW9oiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy45NjM2MzYzNiwxMC4wMzYzNjM2IEM4LjQ0NTYzMDMzLDEwLjAzNjM2MzYgOC44MzYzNjM2NCwxMC40MjcwOTY5IDguODM2MzYzNjQsMTAuOTA5MDkwOSBMOC44MzYzNjM2NCwxMy4wOTA5MDkxIEM4LjgzNjM2MzY0LDEzLjU3MjkwMzEgOC40NDU2MzAzMywxMy45NjM2MzY0IDcuOTYzNjM2MzYsMTMuOTYzNjM2NCBDNy40ODE2NDI0LDEzLjk2MzYzNjQgNy4wOTA5MDkwOSwxMy41NzI5MDMxIDcuMDkwOTA5MDksMTMuMDkwOTA5MSBMNy4wOTA5MDkwOSwxMC45MDkwOTA5IEM3LjA5MDkwOTA5LDEwLjQyNzA5NjkgNy40ODE2NDI0LDEwLjAzNjM2MzYgNy45NjM2MzYzNiwxMC4wMzYzNjM2IFoiIGlkPSLnn6nlvaIiIGZpbGw9IiMzMjdERkYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LjAzNjM2MzYsMTAuMDM2MzYzNiBDMTYuNTE4MzU3NiwxMC4wMzYzNjM2IDE2LjkwOTA5MDksMTAuNDI3MDk2OSAxNi45MDkwOTA5LDEwLjkwOTA5MDkgTDE2LjkwOTA5MDksMTMuMDkwOTA5MSBDMTYuOTA5MDkwOSwxMy41NzI5MDMxIDE2LjUxODM1NzYsMTMuOTYzNjM2NCAxNi4wMzYzNjM2LDEzLjk2MzYzNjQgQzE1LjU1NDM2OTcsMTMuOTYzNjM2NCAxNS4xNjM2MzY0LDEzLjU3MjkwMzEgMTUuMTYzNjM2NCwxMy4wOTA5MDkxIEwxNS4xNjM2MzY0LDEwLjkwOTA5MDkgQzE1LjE2MzYzNjQsMTAuNDI3MDk2OSAxNS41NTQzNjk3LDEwLjAzNjM2MzYgMTYuMDM2MzYzNiwxMC4wMzYzNjM2IFoiIGlkPSLnn6nlvaIiIGZpbGw9IiMzMjdERkYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+\") no-repeat 50% 50%;\r\n        background-size: 30px 30px;\r\n        animation: BOT_TRIGGER_SHAKE 1s ease-in-out infinite;\r\n        width: 56px;\r\n        height: 56px;\r\n        position: fixed;\r\n        right: 20px;\r\n        bottom: 30px;\r\n        cursor: pointer;\r\n      }\r\n      #BOT_TRIGGER.bot_mobile {\r\n        background-color: #fff;\r\n        border-radius: 50%;\r\n        border: 0.1px solid #d5e1ff;\r\n        box-shadow: 0 10px 20px rgba(28, 92, 207, 0.1);\r\n      }\r\n      @keyframes EBOT-TRIGGER {\r\n        0% {\r\n          opacity: 0;\r\n          border-radius: 50%;\r\n          transform: translateY(-94%) scale(0.4 / 0.9);\r\n        }\r\n        8.3% {\r\n          opacity: 0.5;\r\n          border-radius: 42% 50% 50%;\r\n          transform: translateY(6%) scale(0.43 / 0.9);\r\n        }\r\n        16.7% {\r\n          opacity: 1;\r\n          border-radius: 17% 50% 50%;\r\n          transform: translateY(32%) scale(0.5 / 0.9);\r\n        }\r\n        33.3% {\r\n          border-radius: 17% 50% 50%;\r\n          transform: translateY(26%) scale(0.6 / 0.9);\r\n        }\r\n        50% {\r\n          border-radius: 12% 50% 50%;\r\n          transform: translateY(4%) scale(0.93 / 0.9);\r\n        }\r\n        66.7% {\r\n          transform: translateY(-2%) scale(0.91 / 0.9);\r\n        }\r\n        100% {\r\n          opacity: 1;\r\n          border-radius: 12% 50% 50%;\r\n          transform: translateY(0%) scale(0.9 / 0.9);\r\n        }\r\n      }\r\n      @keyframes BOT_TRIGGER_SHAKE {\r\n      13% {transform: translateY(1%)}\r\n      19% {transform: translateY(2%)}\r\n      38% {transform: translateY(7%)}\r\n      50% {transform: translateY(8%)}\r\n      69% {transform: translateY(5%)}\r\n      88% {transform: translateY(0)}\r\n      }\r\n    `;\r\n    domHead.appendChild(domStyle)\r\n    let dv = document.createElement('div');\r\n    dv.setAttribute('id', 'BOT_TRIGGER');\r\n    dv.onclick = () => {\r\n      this.createIframe()\r\n    };\r\n    if (options.triggerStyle) {\r\n      dv.setAttribute('style', options.triggerStyle);\r\n    }\r\n    dv.setAttribute('class', 'bot_mobile');\r\n\r\n    // if (isMobile) {\r\n    //   dv.setAttribute('class', 'bot_mobile');\r\n    // } else {\r\n    //   dv.setAttribute('class', 'bot_pc');\r\n    // }\r\n    document.body.appendChild(dv);\r\n  }\r\n\r\n}"],"names":["exports","instance","Constructor","TypeError","window","CBOT","botAreaId","__instance","init","options","showTrigger","createBotIcon","createIframe","show","document","getElementById","setAttribute","hide","domFrame","createElement","style","src","body","appendChild","domHead","querySelector","domStyle","innerHTML","dv","onclick","triggerStyle","this","_options"],"mappings":"2NAEAA,cAAqB,EAErBA,UAAkB,SAAUC,EAAUC,GACpC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,iKCNxBC,OAAOC,KAAO,KACd,IAAMC,EAAY,WAMdC,EAAa,kCAWfC,KAAO,YAKDC,EAAQC,cACLC,cAAcF,KAEdG,qBAITC,KAAO,WACQC,SAASC,eAAeT,GAC9BU,aAAa,QA7BtB,iIAgCAC,KAAO,WACQH,SAASC,eAAeT,GAC9BU,aAAa,QAhCtB,sIAmCAJ,aAAe,eACTM,EAAWJ,SAASK,cAAc,YAC7BH,aAAa,KAAMV,KACnBc,MAAM,kBAENC,yCACAC,KAAKC,YAAYL,KACrBL,aAGPF,cAAgB,SAACF,OACXe,EAAUV,SAASW,cAAc,QACjCC,EAAWZ,SAASK,cAAc,WAC7BQ,kyKA4DDJ,YAAYG,OAChBE,EAAKd,SAASK,cAAc,SAC7BH,aAAa,KAAM,iBACnBa,QAAU,aACNjB,gBAEHH,EAAQqB,gBACPd,aAAa,QAASP,EAAQqB,gBAEhCd,aAAa,QAAS,uBAOhBM,KAAKC,YAAYK,YAxH5B,iBAAYnB,yDAAU,6BAChBF,SACKA,KAEIwB,MACRC,SAAWvB,OACXD,KAAKC"}